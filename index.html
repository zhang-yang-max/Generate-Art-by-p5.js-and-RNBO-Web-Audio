<!doctype html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <title>p5 + RNBO: AM Synth Control</title>
  <style>
    html, body { margin:0; height:100%; background:#101114; color:#fff; }
    canvas { display:block; touch-action:none; }
    #gate {
      position:fixed; inset:0; display:grid; place-items:center; 
      background:#101114; z-index:5;
    }
    #gate button {
      font-size:18px; padding:12px 18px; border-radius:12px; 
      border:1px solid #3c3f44; background:#fff; color:#111;
    }
    #hud {
      position:fixed; left:10px; top:10px; font:12px/1.4 system-ui; 
      background:rgba(0,0,0,.35); padding:8px 10px; border-radius:8px;
    }
    .ok { color:#8f8; } .warn { color:#fc8; } .bad { color:#f88; }
  </style>

  <!-- p5 -->
  <script src="https://cdn.jsdelivr.net/npm/p5@1/lib/p5.min.js"></script>
  <!-- RNBO 运行时（CDN） -->
  <script src="https://cdn.cycling74.com/rnbo/latest/rnbo.min.js"></script>
  <!-- 主逻辑 -->
  <script defer src="sketch.js"></script>
</head>
<body>
  <div id="gate"><button id="btnStart">开始（解锁音频）</button></div>
  <div id="hud">
    <div>RNBO: <span id="state" class="warn">未初始化</span></div>
    <div>x1=<span id="vx">0.50</span> &nbsp; y1=<span id="vy">0.50</span> &nbsp; in1=<span id="vin">0</span></div>
    <div style="opacity:.7">提示：按住/拖动小球=开声，松开=关声</div>
  </div>
</body>
</html>
